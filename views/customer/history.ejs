<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Lแปch sแปญ ฤแบทt phรฒng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">
  <%- include('../partials/header') %>

  <h3 class="mb-4 text-center">๐ Lแปch sแปญ ฤแบทt phรฒng</h3>

  <% if (!bookings || bookings.length === 0) { %>
    <div class="alert alert-info text-center">
      Bแบกn chฦฐa cรณ phiแบฟu ฤแบทt phรฒng nรo.
    </div>
  <% } else { %>
    <table class="table table-hover align-middle shadow-sm text-center">
      <thead class="table-light">
        <tr>
          <th>Trแบกng thรกi</th>
          <th>Tรชn phรฒng</th>
          <th>Ngรy ฤแบทt</th>
          <th>Tแปng tiแปn</th>
          <th>Chi tiแบฟt</th>
        </tr>
      </thead>
      <tbody>
        <% bookings.forEach(b => { %>
          <tr>
            <td>
              <% if (b.status === 'ฤรฃ ฤแบทt') { %>
                <span class="badge bg-primary">ฤรฃ ฤแบทt</span>
              <% } else if (b.status === 'ฤรฃ hแปงy') { %>
                <span class="badge bg-danger">ฤรฃ hแปงy</span>
              <% } else { %>
                <span class="badge bg-secondary"><%= b.status %></span>
              <% } %>
            </td>
            <td><%= b.Room.roomName %></td>
            <td><%= b.bookingDate %></td>
            <td><%= (b.Invoice?.amount || b.totalAmount).toLocaleString('vi-VN') %> โซ</td>
            <td>
              <a href="/customer/history/<%= b.bookingId %>" class="btn btn-sm btn-outline-primary">Xem chi tiแบฟt</a>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>

  <a href="/" class="btn btn-secondary mt-3">&larr; Quay lแบกi danh sรกch phรฒng</a>
  <%- include('../partials/footer') %>
</body>

</html>
