<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>BÃ¡o cÃ¡o thá»‘ng kÃª</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/report.css">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-light">
  <div class="container report-container py-4">
    <h2 class="mb-4 fw-bold text-primary">ğŸ“Š BÃ¡o cÃ¡o thá»‘ng kÃª</h2>

    <div class="summary-box card p-3 shadow-sm mb-4">
      <h3 class="fw-semibold mb-3">HÃ´m nay</h3>
      <p>PhÃ²ng Ä‘áº·t: <strong><%= totalPaidBookings %></strong></p>
      <p>PhÃ²ng trá»‘ng: <strong><%= availableRooms %></strong></p>
      <p>Doanh thu: <strong><%= totalRevenueToday.toLocaleString() %> VNÄ</strong></p>
    </div>

    <div class="tabs mb-4">
      <span class="fw-semibold">Thá»i gian:</span>
      <a href="?type=month" class="<%= type === 'month' ? 'active' : '' %>">ThÃ¡ng</a>
      <a href="?type=year" class="<%= type === 'year' ? 'active' : '' %>">NÄƒm</a>
      <a href="?type=all" class="<%= type === 'all' ? 'active' : '' %>">Táº¥t cáº£ nÄƒm</a>
    </div>

    <div class="chart-section mb-5">
      <h5 class="fw-bold">Doanh thu theo thá»i gian</h5>
      <canvas id="revenueChart" height="120"></canvas>
    </div>

    <div class="chart-section mb-5">
      <h5 class="fw-bold">Doanh thu theo tá»«ng phÃ²ng</h5>
      <canvas id="roomRevenueChart" height="120"></canvas>
    </div>

    <div class="chart-section mb-5">
      <h5 class="fw-bold">TÃ¬nh tráº¡ng phÃ²ng</h5>
      <canvas id="roomStatusChart" height="120"></canvas>
    </div>
  </div>

  <script>
    window.reportData = {
      revenueData: <%- JSON.stringify(revenueData) %>,
      roomRevenue: <%- JSON.stringify(roomRevenue) %>,
      roomStatus: <%- JSON.stringify(roomStatus) %>
    };
  </script>

  <script src="/javascript/report.js"></script>
</body>
</html>
